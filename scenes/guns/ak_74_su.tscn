[gd_scene load_steps=12 format=3 uid="uid://cssv66son3r18"]

[ext_resource type="Script" path="res://scripts/ak_74_su.gd" id="1_tv3e0"]
[ext_resource type="Texture2D" uid="uid://b5kve4tvu64ku" path="res://model/gun_tex.png" id="2_jjtlx"]
[ext_resource type="ArrayMesh" uid="uid://cw40gi0sghyvg" path="res://model/pp-19_vityaz_sn.obj" id="3_r1ef8"]
[ext_resource type="Shader" path="res://shaders/sights.gdshader" id="4_q38s7"]
[ext_resource type="Texture2D" uid="uid://1flir2dg67u3" path="res://shaders/sight_tex.png" id="5_nmcya"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q5nyy"]
albedo_texture = ExtResource("2_jjtlx")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3rnwb"]
render_priority = 0
shader = ExtResource("4_q38s7")
shader_parameter/retical_color = Color(1, 0, 0, 1)
shader_parameter/tex_scale = 0.097
shader_parameter/texture_albedo = ExtResource("5_nmcya")

[sub_resource type="CanvasTexture" id="CanvasTexture_prjmn"]

[sub_resource type="Animation" id="Animation_16xpc"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ak74-su:rotation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_fp8k4"]
resource_name = "aim_shoot"
length = 0.08
step = 0.01
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ak74-su:rotation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0.0122173, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.02, 0.08)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_g1qnt"]
_data = {
"RESET": SubResource("Animation_16xpc"),
"aim_shoot": SubResource("Animation_fp8k4")
}

[node name="ak74-su" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 0.998971, -0.045363, 0, 0.045363, 0.998971, 0, 0, 0)
script = ExtResource("1_tv3e0")

[node name="ak74-su" type="MeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_q5nyy")
mesh = ExtResource("3_r1ef8")

[node name="holo" type="Sprite3D" parent="ak74-su"]
transform = Transform3D(17.314, 0, 0, 0, 17.314, -5.96046e-08, 0, 5.96046e-08, 17.314, -0.0081315, 1.58352, 0.250876)
material_override = SubResource("ShaderMaterial_3rnwb")
texture = SubResource("CanvasTexture_prjmn")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 2.23517e-08, 0, -2.23517e-08, 1, 0.182998, 1.62254, -0.625795)
target_position = Vector3(0, 0, -10000)
collision_mask = 24

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
speed_scale = 0.9
libraries = {
"": SubResource("AnimationLibrary_g1qnt")
}
